
è€è§„çŸ©ï¼Œå…ˆå¯¼å…¥åŠè®¾ç½®å„ç§å‚æ•°ã€‚
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

%matplotlib inline
%config InlineBackend.figure_format = 'retina'

df = pd.read_table('smoking_cancer.txt')
print(df.head())
print(df.describe())

  STATE    CIG  BLAD   LUNG   KID  LEUK
0    AL  18.20  2.90  17.05  1.59  6.15
1    AZ  25.82  3.52  19.80  2.75  6.61
2    AR  18.24  2.99  15.98  2.02  6.94
3    CA  28.60  4.46  22.07  2.66  7.06
4    CT  31.10  5.11  22.83  3.35  7.20
             CIG       BLAD       LUNG        KID       LEUK
count  44.000000  44.000000  44.000000  44.000000  44.000000
mean   24.914091   4.121136  19.653182   2.794545   6.829773
std     5.573286   0.964925   4.228122   0.519080   0.638259
min    14.000000   2.860000  12.010000   1.590000   4.900000
25%    21.230000   3.207500  16.437500   2.457500   6.532500
50%    23.765000   4.065000  20.320000   2.845000   6.860000
75%    28.097500   4.782500  22.807500   3.112500   7.207500
max    42.400000   6.540000  27.270000   4.320000   8.280000

1. æŠ½çƒŸçš„è¶‹åŠ¿ä¸åˆ†å¸ƒ
æˆ‘æ˜¯ä¸æŠ½çƒŸçš„ã€‚æˆ‘ä½“ä¼šä¸äº†é‚£æŠ½çš„æ˜¯å¯‚å¯çš„æ„Ÿè§‰ã€‚ä¸å…¶æ¥ä¸€äº›çƒŸçš„æ•°æ®ï¼Œæ¥ç‚¹é…’çš„æ•°æ®å…¶å®æ›´å’Œé…’é¬¼ä¸œå“¥ä¹‹æ„å“ˆï¼Œä¸è¿‡ä¼°è®¡è¿™æ ·çš„æ•°æ®å¾ˆéš¾æ‰¾â€¦â€¦
å…ˆçœ‹çœ‹æŠ½çƒŸçš„å¤§ä½“æƒ…å†µã€‚
plt.hist(df.CIG, bins=20,rwidth=0.9)

(array([ 1.,  1.,  3.,  0.,  4.,  7.,  7.,  1.,  5.,  4.,  6.,  1.,  1.,
         1.,  0.,  0.,  0.,  0.,  1.,  1.]),
 array([ 14.  ,  15.42,  16.84,  18.26,  19.68,  21.1 ,  22.52,  23.94,
         25.36,  26.78,  28.2 ,  29.62,  31.04,  32.46,  33.88,  35.3 ,
         36.72,  38.14,  39.56,  40.98,  42.4 ]),
 <a list of 20 Patch objects>)






output_2_1.png

è¯´å®è¯ï¼Œè¿™ä¸ªåˆ†å¸ƒå¾ˆæ€ªå¼‚â€¦â€¦
æ¯”å¦‚è¯´ï¼Œ19é™„è¿‘å‡­ä»€ä¹ˆæ²¡æœ‰å€¼ï¼Ÿ25å·¦è¾¹å‡­ä»€ä¹ˆå°±å¾ˆå°‘ï¼Ÿéš¾é“å¤§å®¶éƒ½ä¸çº¦è€ŒåŒçš„è·³è¿‡å»äº†å—ï¼Ÿ
å…¶å®è¿™æ˜¯æ ·æœ¬åå·®çš„é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°
len(df)

44

ç»Ÿè®¡å­¦çš„ä¸€ä¸ªåŸºæœ¬åŸåˆ™æ˜¯å¤§æ•°å®šå¾‹ã€‚è§„å¾‹åªèƒ½åœ¨æ•°æ®é‡å¤§çš„æ—¶å€™æ˜¾ç¤ºå…¶è§„å¾‹æ€§ï¼Œæ•°è¶Šå¤§ç»“æœè¶Šå€¾å‘äºå…¶æœŸæœ›ã€‚44ä¸ªå·çš„æ ·æœ¬æ˜æ˜¾æ— æ³•æ»¡è¶³ã€Œå¤§æ•°ã€çš„è¦æ±‚ï¼Œåè€Œå¯ä»¥æ»¡è¶³å°æ•°å®šå¾‹ï¼š

â€œå¦‚æœç»Ÿè®¡æ•°å­—å¾ˆå°‘ï¼Œå°±å¾ˆå®¹æ˜“å‡ºç°ç‰¹åˆ«ä¸å‡åŒ€çš„æƒ…å†µã€‚è¿™ä¸ªç°è±¡è¢«è¯ºè´å°”ç»æµå­¦å¥–å¾—ä¸»ä¸¹å°¼å°”Â·å¡å°¼æ›¼æˆç§°ä¸ºâ€œå°æ•°å®šå¾‹â€ã€‚å¡å°¼æ›¼è¯´å¦‚æœæˆ‘ä»¬ä¸ç†è§£å°æ•°å®šå¾‹ï¼Œæˆ‘ä»¬å°±ä¸èƒ½çœŸæ­£ç†è§£å¤§æ•°å®šå¾‹ã€‚
è€Œå°æ•°å®šå¾‹è¯´å¦‚æœæ ·æœ¬ä¸å¤Ÿå¤§ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¡¨ç°ä¸ºå„ç§æç«¯æƒ…å†µï¼Œè€Œè¿™äº›æƒ…å†µå¯èƒ½è·Ÿæœ¬æ€§ä¸€ç‚¹å…³ç³»æ²¡æœ‰ã€‚â€
â€”â€” Excerpt From: ä¸‡ç»´é’¢(åŒäººäºé‡). â€œä¸‡ä¸‡æ²¡æƒ³åˆ°:ç”¨ç†å·¥ç§‘æ€ç»´ç†è§£ä¸–ç•Œ.â€

soï¼Œæˆ‘ä»¬è¿˜æ˜¯ç»§ç»­å¾€ä¸‹åˆ†æç½¢ã€‚æ ·æœ¬ä¸å¤Ÿçš„æƒ…å†µä¸‹ï¼Œè¿™æ ·çš„åˆ†ææ²¡æœ‰æ„ä¹‰ã€‚
print('Median value of CIG is %.2f.' % df.CIG.median())
print('Mean value of CIG is %.2f.' % df.CIG.mean())
cig = df.CIG.copy()
cig.name = 'Cig'
plt.boxplot(cig, vert=False,labels=[cig.name])
print('STD value of CIG is %.2f.' % cig.std())

Median value of CIG is 23.77.
Mean value of CIG is 24.91.
STD value of CIG is 5.57.






output_6_1.png

å¥½å§ï¼Œè¿™æ ·ä¾ç„¶çœ‹ä¸å‡ºä»€ä¹ˆæœ‰æ„ä¹‰çš„ç»“æœâ€¦â€¦è¯è¯´åšæ•°æ®åˆ†æï¼ŒèƒŒæ™¯çŸ¥è¯†å¾ˆé‡è¦ï¼Œè¦ä¸ç„¶å¾—åˆ°äº†åˆ†æç»“æœä¹Ÿä¸çŸ¥é“ä»£è¡¨äº†ä»€ä¹ˆâ€¦â€¦
è¿˜æ˜¯æ¥ç€çœ‹çœ‹æŠ½çƒŸå’Œç–¾ç—…çš„å…³ç³»å§ï¼Œè¿™ä¸ªè²Œä¼¼ä¸ç”¨å¤ªå¤šçš„èƒŒæ™¯çŸ¥è¯†ã€‚
2. æŠ½çƒŸä¸ç–¾ç—…çš„å…³ç³»
ä¾æ¬¡å¯¹æ¯”ä¸€ä¸‹å„ç§ç–¾ç—…
print('The Correlation Value of CIG and disease is:')
print(df.corr())

The Correlation Value of CIG and disease is:
           CIG      BLAD      LUNG       KID      LEUK
CIG   1.000000  0.703622  0.697403  0.487390 -0.068481
BLAD  0.703622  1.000000  0.658501  0.358814  0.162157
LUNG  0.697403  0.658501  1.000000  0.282743 -0.151584
KID   0.487390  0.358814  0.282743  1.000000  0.188713
LEUK -0.068481  0.162157 -0.151584  0.188713  1.000000

plt.scatter(df.CIG, df.BLAD)
plt.show()






output_9_0.png

BLADæ˜¯è†€èƒ±ç™Œï¼Œç›¸å…³ç³»æ•°é«˜è¾¾0.7ï¼Œè€Œä¸”ä»å›¾ä¸Šæ˜æ˜¾å¯ä»¥çœ‹å‡ºæœ‰ç›¸å…³è¶‹åŠ¿ã€‚è¿™è®©æˆ‘æ„Ÿè§‰å¾ˆå°´å°¬ï¼Œè†€èƒ±æ˜¯è´®å°¿å™¨å®˜ï¼Œç”¨æ¥è´®è—å’Œæ’æ³„å°ä¾¿ï¼›æŠ½çƒŸæŒ‰è¯´æœ€ç›´æ¥å½±å“çš„åº”è¯¥æ˜¯å‘¼å¸å™¨å®˜ï¼Œæ¯”å¦‚æ°”ç®¡ã€è‚ºä¹‹ç±»çš„å•Šâ€¦â€¦è¿™ä¸ªè®©äººæ€ä¹ˆè§£é‡Šï¼Ÿ
plt.scatter(df.CIG, df.LUNG)
plt.show()






output_11_0.png

LUNGæ˜¯è‚ºç™Œï¼Œç›¸å…³ç³»æ•°ä¸º0.69ï¼ŒæŒ‰è¯´ä¹Ÿä¸é”™ï¼Œåªæ˜¯æœ‰äº†å‰é¢çš„è†€èƒ±ç™Œä½œæ¯”è¾ƒï¼Œå°±æœªå…å°´å°¬äº†ä¸€äº›â€¦â€¦
plt.scatter(df.CIG, df.KID)
plt.show()






output_13_0.png

KIDæ˜¯è‚¾ç™Œï¼Œç›¸å…³ç³»æ•°0.48ã€‚ä»å›¾ä¸Šä¹Ÿèƒ½æ˜æ˜¾çœ‹å‡ºï¼Œè‚¾ç™Œçš„é«˜å‘åŒºåŸŸé›†ä¸­åœ¨CIG 20-30ä¹‹é—´ã€‚ä½†è¿™ä¸ªæ•°æ®å¹¶ä¸èƒ½è¯´æ˜ä»€ä¹ˆï¼Œå› ä¸ºCIG 20-30ä¹‹é—´çš„å·æœ¬æ¥å°±å äº†å¤§å¤šæ•°
df2030 = df[(df.CIG > 20) & (df.CIG <30)]
print('The NO. of states between 20 and 30 is %i.' % len(df2030))
print('The NO. of total states is %i.' % len(df))
p = (len(df2030)*1.0)/(len(df)*1.0)*100.0
print('The percentage of df20-30 is %.2f%%.' % p)

The NO. of states between 20 and 30 is 33.
The NO. of total states is 44.
The percentage of df20-30 is 75.00%.

æ‰€ä»¥ï¼Œè¿™äº›æ•°æ®è¯´æ˜ä¸äº†å¤ªå¤šä¸œè¥¿ã€‚
plt.scatter(df.CIG, df.LEUK)
plt.show()






output_17_0.png

å¦‚æœè¯´å‰ä¸‰ä¸ªå¥½æ­¹è¿˜æœ‰ç‚¹å…³è”çš„è¯ï¼Œæœ€åè¿™ä¸ª LEUK ç™½è¡€ç—…ï¼Œå’ŒæŠ½çƒŸå°±å¹²è„†ä¸€ç‚¹å…³ç³»æ²¡æœ‰äº†ï¼Œç›¸å…³ç³»æ•°ä»…-0.068ã€‚ä¸è¿‡åœ¨ç»´åŸºç™¾ç§‘ä¸ŠæŸ¥äº†æŸ¥ç™½è¡€ç—…æ­¤æ¡ï¼Œèµ«ç„¶å‘ç°

ç™½è¡€ç—…å‘ç”Ÿçš„çœŸæ­£åŸå› å°šæœªçŸ¥æ™“ï¼Œç›®å‰ç›¸ä¿¡ç¯å¢ƒä¸é—ä¼ å› ç´ éƒ½æ‰®æ¼”äº†é‡è¦è§’è‰²[5]ã€‚é£é™©å› å­åŒ…æ‹¬ï¼šå¸çƒŸã€æ¸¸ç¦»è¾å°„ã€éƒ¨åˆ†åŒ–å­¦ç‰©è´¨å¦‚è‹¯ã€æ›¾æ¥å—åŒ–ç–—ã€å”æ°ç»¼åˆç—‡ã€å®¶æ—å²æœ‰ç™½è¡€ç—…ã€‚
ç™½è¡€ç—… - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦

å‘ƒï¼Œè¿™ä¸ªâ€¦â€¦ä»¥æˆ‘çš„æ°´å¹³ï¼Œç»´åŸºç™¾ç§‘å°±ç­‰äºç§‘å­¦ç»“è®ºï¼Œæ‰€ä»¥è¿™ä¸ªç»“æœä¹Ÿè®©æˆ‘å¾ˆå°´å°¬å•ŠğŸ˜“â€¦â€¦
å­¦ç‚¹å’Œç°å®ç›¸å…³çš„ä¸œè¥¿æœç„¶ä¸æ˜¯ä»€ä¹ˆå®¹æ˜“çš„äº‹æƒ…ã€‚
æœ€åï¼Œä½œä¸ºå¥½äº‹è€…ï¼Œæˆ‘çœ‹äº†çœ‹å„ç§ç™Œçš„æ•°æ®æœ‰æ²¡æœ‰ä»€ä¹ˆç›¸å…³æ€§ã€‚
df = df.drop('CIG',axis=1)
df.corr()


          BLAD      LUNG       KID      LEUK
BLAD  1.000000  0.658501  0.358814  0.162157
LUNG  0.658501  1.000000  0.282743 -0.151584
KID   0.358814  0.282743  1.000000  0.188713
LEUK  0.162157 -0.151584  0.188713  1.000000

æŒ‰è¯´ä¸€ä¸ªäººæ²¡æ³•æ­»äºä¸¤ä¸ªç™Œç—‡ï¼Œæ‰€ä»¥è¿™ä¸ªæ•°æ®å¹¶ä»€ä¹ˆç”¨æˆ‘ä¹Ÿä¸çŸ¥é“â€¦â€¦
ä¸è¿‡è¿˜æ˜¯å¯ä»¥åˆ†æå‡ºä¸€äº›ä¸œè¥¿ã€‚ä»è¡¨ä¸­å¯ä»¥çœ‹å‡ºï¼ŒBLAD å’Œ LUNG çš„ç›¸å…³æ€§æ¯”è¾ƒé«˜ä¸€ç‚¹ã€‚è€ƒè™‘åˆ°è¿™ä¸ªæ•°æ®æ˜¯æ¯å·æ­»å› æ•°æ®ï¼Œæ˜¯å¦å¯ä»¥è®¤ä¸ºï¼Œè†€èƒ±ç™Œå’Œè‚ºç™Œå¯èƒ½æœ‰ç›¸ä¼¼çš„è¯±å› ï¼Ÿç»´åŸºç™¾ç§‘äº†ä¸€ä¸‹ï¼š

ç½¹æ‚£è†€èƒ±ç™Œæœ€ä¸»è¦çš„å±é™©å› å­æ˜¯æ¥è‡ªåŸºå› çš„å½±å“ï¼Œå¦å¤–å¸çƒŸã€é•¿æœŸæ¥è§¦æŸç§æŸ“æ–™ï¼ˆå«è‹¯èƒºï¼ˆanilineï¼‰æˆåˆ†è€…ï¼Œå¦‚çººç»‡å‚å‘˜å·¥å°±å¯èƒ½æ¥è§¦åˆ°ï¼‰ã€æ±½æ²¹æˆ–å…¶ä»–åŒ–å­¦ç‰©è´¨è€…ä¹Ÿæœ‰è¾ƒé«˜çš„é£é™©ã€‚
å¤§å¤šæ•°ï¼ˆ80-90%ï¼‰è‚ºç™Œæ‚£è€…æ‚£ç—…çš„åŸå› ä¸ºé•¿æœŸå¸çƒŸï¼Œç„¶è€Œå¤§çº¦10-15%çš„æ‚£è€…ä»ä¸å¸çƒŸï¼Œè¿™éƒ¨åˆ†äººæ‚£ä¸Šè‚ºç™Œå¾€å¾€æ˜¯ç”±äºé—ä¼ å› ç´ å’Œå¸å…¥ç©ºæ°”æ±¡æŸ“ç‰©å…±åŒå¯¼è‡´ï¼Œæ±¡æŸ“ç‰©åŒ…æ‹¬æ°¡æ°”ã€çŸ³æ£‰æˆ–å…¶å®ƒå½¢å¼çš„ç©ºæ°”æ±¡æŸ“ï¼ŒåŒ…æ‹¬äºŒæ‰‹çƒŸã€‚

æ’é™¤åŸºå› å’Œå¸çƒŸï¼Œæ›´å¤šæ›´ä¸»è¦çš„å› ç´ è²Œä¼¼éƒ½åœ¨æ±¡æŸ“ä¸Šã€‚æŸ“æ–™ï¼ˆå«è‹¯èƒºï¼ˆanilineï¼‰ï¼‰æ±½æ²¹æˆ–å…¶ä»–åŒ–å­¦ç‰©è´¨è€…ï¼Œæ°¡æ°”ã€çŸ³æ£‰æˆ–å…¶å®ƒå½¢å¼çš„ç©ºæ°”æ±¡æŸ“ï¼Œå·®ä¸å¤šå¯ä»¥å½’ä¸ºä¸€ç±»ã€‚
å£®å“‰ï¼Œæˆ‘å¤§ä¸­åï¼Œé›¾éœ¾å¨æ­¦ï¼
